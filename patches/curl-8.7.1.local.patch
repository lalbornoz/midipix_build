diff -ru curl-8.7.1.orig/configure curl-8.7.1/configure
--- curl-8.7.1.orig/configure	2024-04-08 23:55:17.997659030 +0200
+++ curl-8.7.1/configure	2024-04-09 00:03:10.404057041 +0200
@@ -15627,6 +15627,16 @@
   hardcode_libdir_flag_spec='-L$libdir'
   ;;
 
+midipix*)
+  version_type=linux # correct to gnu/linux during the next big refactor
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
+  soname_spec='$libname$release$shared_ext$major'
+  shlibpath_var=LD_LIBRARY_PATH
+  ;;
+
+
 # This must be glibc/ELF.
 linux* | k*bsd*-gnu | kopensolaris*-gnu | gnu*)
   version_type=linux # correct to gnu/linux during the next big refactor
@@ -22595,12 +22605,12 @@
     if test "$PKGCONFIG" != "no" ; then
       ZLIB_LIBS="`$PKGCONFIG --libs-only-l zlib`"
       if test -n "$ZLIB_LIBS"; then
-        LDFLAGS="$LDFLAGS `$PKGCONFIG --libs-only-L zlib`"
+        LDFLAGS="$LDFLAGS `$PKGCONFIG --libs-only-other zlib`"
       else
-        ZLIB_LIBS="`$PKGCONFIG --libs zlib`"
+        ZLIB_LIBS="`$PKGCONFIG --libs-only-l zlib`"
       fi
       LIBS="$ZLIB_LIBS $LIBS"
-      CPPFLAGS="$CPPFLAGS `$PKGCONFIG --cflags zlib`"
+      CPPFLAGS="$CPPFLAGS `$PKGCONFIG --cflags-only-other zlib`"
       OPT_ZLIB=""
       HAVE_LIBZ="1"
     fi
@@ -23187,8 +23197,8 @@
 
     if test "$PKGCONFIG" != "no" ; then
       LIB_ZSTD=`$PKGCONFIG --libs-only-l libzstd`
-      LD_ZSTD=`$PKGCONFIG --libs-only-L libzstd`
-      CPP_ZSTD=`$PKGCONFIG --cflags-only-I libzstd`
+      LD_ZSTD=`$PKGCONFIG --libs-only-other libzstd`
+      CPP_ZSTD=`$PKGCONFIG --cflags-only-other libzstd`
       version=`$PKGCONFIG --modversion libzstd`
       DIR_ZSTD=`echo $LD_ZSTD | $SED -e 's/-L//'`
     fi
@@ -26242,8 +26252,8 @@
 
       if test "$PKGCONFIG" != "no" ; then
         addlib=`$PKGCONFIG --libs-only-l gnutls`
-        addld=`$PKGCONFIG --libs-only-L gnutls`
-        addcflags=`$PKGCONFIG --cflags-only-I gnutls`
+        addld=`$PKGCONFIG --libs-only-other gnutls`
+        addcflags=`$PKGCONFIG --cflags-only-other gnutls`
         version=`$PKGCONFIG --modversion gnutls`
         gtlslib=`echo $addld | $SED -e 's/^-L//'`
       else
@@ -27928,8 +27938,8 @@
 
     if test "$PKGCONFIG" != "no" ; then
       LIB_PSL=`$PKGCONFIG --libs-only-l libpsl`
-      LD_PSL=`$PKGCONFIG --libs-only-L libpsl`
-      CPP_PSL=`$PKGCONFIG --cflags-only-I libpsl`
+      LD_PSL=`$PKGCONFIG --libs-only-other libpsl`
+      CPP_PSL=`$PKGCONFIG --cflags-only-other libpsl`
     else
             LIB_PSL="-lpsl"
     fi
@@ -28560,8 +28570,8 @@
 
     if test "$PKGCONFIG" != "no" ; then
       LIB_SSH=`$PKGCONFIG --libs-only-l libssh`
-      LD_SSH=`$PKGCONFIG --libs-only-L libssh`
-      CPP_SSH=`$PKGCONFIG --cflags-only-I libssh`
+      LD_SSH=`$PKGCONFIG --libs-only-other libssh`
+      CPP_SSH=`$PKGCONFIG --cflags-only-other libssh`
       version=`$PKGCONFIG --modversion libssh`
       DIR_SSH=`echo $LD_SSH | $SED -e 's/^-L//'`
     fi
@@ -29395,13 +29405,13 @@
       PKG_CONFIG_LIBDIR="$IDN_PCDIR"
       export PKG_CONFIG_LIBDIR
     fi
-         $PKGCONFIG --libs-only-L libidn2 2>/dev/null`
+         $PKGCONFIG --libs-only-other libidn2 2>/dev/null`
       IDN_CPPFLAGS=`
     if test -n "$IDN_PCDIR"; then
       PKG_CONFIG_LIBDIR="$IDN_PCDIR"
       export PKG_CONFIG_LIBDIR
     fi
-         $PKGCONFIG --cflags-only-I libidn2 2>/dev/null`
+         $PKGCONFIG --cflags-only-other libidn2 2>/dev/null`
       IDN_DIR=`echo $IDN_LDFLAGS | $SED -e 's/^-L//'`
     else
             IDN_LIBS="-lidn2"
@@ -29548,8 +29558,8 @@
 
     if test "$PKGCONFIG" != "no"; then
       IDN_LIBS=`$PKGCONFIG --libs-only-l libidn2 2>/dev/null`
-      IDN_LDFLAGS=`$PKGCONFIG --libs-only-L libidn2 2>/dev/null`
-      IDN_CPPFLAGS=`$PKGCONFIG --cflags-only-I libidn2 2>/dev/null`
+      IDN_LDFLAGS=`$PKGCONFIG --libs-only-other libidn2 2>/dev/null`
+      IDN_CPPFLAGS=`$PKGCONFIG --cflags-only-other libidn2 2>/dev/null`
       IDN_DIR=`echo $IDN_LDFLAGS | $SED -e 's/^-L//'`
     else
             IDN_LIBS="-lidn2"
Only in curl-8.7.1: configure.orig
